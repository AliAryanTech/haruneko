<!DOCTYPE html>
<html>
    <script>
        const win = nw.Window.get();
        newWindowOptions = {
            new_instance : true,
            show : true,
            width: 310,
            height: 400,
            position: 'center',
            resizable: false,
            frame: false,
            transparent: true
        };
        let splash=false;
        //use to stop the loading event if you still check something
        let loading=false;
        if (splash) {
            nw.Window.open('/splash.html', newWindowOptions,function(new_win) {
                splash=new_win;
            });
            
            window.addEventListener('appready',  function(){
                if (!loading){ 
                    console.log('lets go');
                    splash.close();
                    win.show();
                }
            }, false);
        }
        else {
            win.show();
        }
    </script>
    <head>
        <title>HakuNeko - Manga, Anime & Novel Downloader</title>
        <link rel="icon" href="/img/logo.png" />
        <script type="module" src="/index.js"></script>
        <style>
            html, body, #hakuneko {
                margin: 0;
                padding: 0;
                width: 100%;
                height: 100%;
            }
            #loader {
                padding: 2em;
                text-align: center;
            }
        </style>
    </head>
    <body id="hakuneko">
        <div id="loader">
            <h3>Loading...</h3>
            <progress></progress>
        </div>
    </body>
</html>